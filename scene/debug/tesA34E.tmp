[gd_scene load_steps=21 format=3 uid="uid://nc1xq0inht6a"]

[ext_resource type="Material" uid="uid://c5px5j8dwbo1j" path="res://assets/materials/prototype_green.tres" id="1_2smvw"]
[ext_resource type="Material" uid="uid://d3yuc5kgk10vy" path="res://assets/materials/prototype_black.tres" id="2_k8kvw"]
[ext_resource type="PackedScene" uid="uid://c1s0yqy72g1oq" path="res://scene/player/player.tscn" id="3_vxjiw"]
[ext_resource type="PackedScene" uid="uid://cc53ldbuwpaf1" path="res://assets/Test_assets/Assets/gltf/armchair.gltf" id="4_jd06l"]
[ext_resource type="Shader" path="res://assets/shader/toonshading.gdshader" id="5_0ltts"]
[ext_resource type="PackedScene" uid="uid://7nekipngkbjl" path="res://assets/Test_assets/Assets/gltf/flower/fleure2.glb" id="5_a1w14"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_qpncc"]
sky_top_color = Color(0.576471, 0.960784, 1, 1)
sky_horizon_color = Color(0.597059, 0.658917, 0.70776, 1)
ground_bottom_color = Color(0.2, 0.168627, 0.133333, 1)
ground_horizon_color = Color(0.597059, 0.658917, 0.70776, 1)

[sub_resource type="Sky" id="Sky_5twy7"]
sky_material = SubResource("ProceduralSkyMaterial_qpncc")

[sub_resource type="Environment" id="Environment_6tsjx"]
background_mode = 2
background_energy_multiplier = 0.0
sky = SubResource("Sky_5twy7")
ambient_light_source = 2
ambient_light_color = Color(0.811765, 0.658824, 0.384314, 1)
ambient_light_sky_contribution = 0.1
ambient_light_energy = 0.1
tonemap_mode = 2
ssao_enabled = true
fog_enabled = true
fog_light_color = Color(0.501961, 0.6, 0.0980392, 1)
fog_light_energy = 0.05
volumetric_fog_enabled = true
volumetric_fog_density = 0.0839
volumetric_fog_albedo = Color(0.2, 0.498039, 0.611765, 1)
volumetric_fog_detail_spread = 3.0

[sub_resource type="BoxMesh" id="BoxMesh_rv23d"]
material = ExtResource("1_2smvw")
size = Vector3(30, 0.1, 30)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_4wdck"]
data = PackedVector3Array(-15, 0.05, 15, 15, 0.05, 15, -15, -0.05, 15, 15, 0.05, 15, 15, -0.05, 15, -15, -0.05, 15, 15, 0.05, -15, -15, 0.05, -15, 15, -0.05, -15, -15, 0.05, -15, -15, -0.05, -15, 15, -0.05, -15, 15, 0.05, 15, 15, 0.05, -15, 15, -0.05, 15, 15, 0.05, -15, 15, -0.05, -15, 15, -0.05, 15, -15, 0.05, -15, -15, 0.05, 15, -15, -0.05, -15, -15, 0.05, 15, -15, -0.05, 15, -15, -0.05, -15, 15, 0.05, 15, -15, 0.05, 15, 15, 0.05, -15, -15, 0.05, 15, -15, 0.05, -15, 15, 0.05, -15, -15, -0.05, 15, 15, -0.05, 15, -15, -0.05, -15, 15, -0.05, 15, 15, -0.05, -15, -15, -0.05, -15)

[sub_resource type="BoxMesh" id="BoxMesh_osntl"]
material = ExtResource("2_k8kvw")
size = Vector3(0.2, 20, 30)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_mj6dm"]
data = PackedVector3Array(-0.1, 10, 15, 0.1, 10, 15, -0.1, -10, 15, 0.1, 10, 15, 0.1, -10, 15, -0.1, -10, 15, 0.1, 10, -15, -0.1, 10, -15, 0.1, -10, -15, -0.1, 10, -15, -0.1, -10, -15, 0.1, -10, -15, 0.1, 10, 15, 0.1, 10, -15, 0.1, -10, 15, 0.1, 10, -15, 0.1, -10, -15, 0.1, -10, 15, -0.1, 10, -15, -0.1, 10, 15, -0.1, -10, -15, -0.1, 10, 15, -0.1, -10, 15, -0.1, -10, -15, 0.1, 10, 15, -0.1, 10, 15, 0.1, 10, -15, -0.1, 10, 15, -0.1, 10, -15, 0.1, 10, -15, -0.1, -10, 15, 0.1, -10, 15, -0.1, -10, -15, 0.1, -10, 15, 0.1, -10, -15, -0.1, -10, -15)

[sub_resource type="BoxMesh" id="BoxMesh_iqr5y"]
material = ExtResource("2_k8kvw")
size = Vector3(0.1, 31, 30)

[sub_resource type="BoxMesh" id="BoxMesh_jw4qe"]
material = ExtResource("1_2smvw")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_onu5q"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="Curve3D" id="Curve3D_mjgmp"]
_data = {
"points": PackedVector3Array(20.2077, -0.608223, -4.93916, 0, 0, 0, -16.1521, -13.2415, 49.6173, 20.2077, -0.608223, -4.93916, -20.2077, 0.608223, 4.93916, -14.6483, 26.6179, 8.80412, 0, 0, 0, 0, 0, 0, -45.0312, -4.10376, 39.961),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="ShaderMaterial" id="ShaderMaterial_hotht"]
render_priority = 0
shader = ExtResource("5_0ltts")
shader_parameter/albedo = Color(1, 1, 1, 1)
shader_parameter/clamp_diffuse_to_max = false
shader_parameter/cuts = 3
shader_parameter/wrap = 0.0
shader_parameter/steepness = 1.0
shader_parameter/use_attenuation = true
shader_parameter/use_specular = true
shader_parameter/specular_strength = 1.0
shader_parameter/specular_shininess = 16.0
shader_parameter/use_rim = true
shader_parameter/rim_width = 8.0
shader_parameter/rim_color = Color(1, 1, 1, 1)
shader_parameter/use_ramp = false
shader_parameter/use_borders = false
shader_parameter/border_width = 0.01

[sub_resource type="SphereMesh" id="SphereMesh_31f6g"]
material = SubResource("ShaderMaterial_hotht")

[sub_resource type="SphereShape3D" id="SphereShape3D_mim4g"]

[node name="STATIC_ENVIRONMENT" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
light_color = Color(0.811765, 0.658824, 0.384314, 1)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_6tsjx")

[node name="floor" type="StaticBody3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="floor"]
material_override = ExtResource("2_k8kvw")
mesh = SubResource("BoxMesh_rv23d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="floor"]
shape = SubResource("ConcavePolygonShape3D_4wdck")

[node name="wall" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.8574, 9, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, 0)
mesh = SubResource("BoxMesh_osntl")

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, 0)
shape = SubResource("ConcavePolygonShape3D_mj6dm")

[node name="wall2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.8426, 9, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="wall2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, 0)
mesh = SubResource("BoxMesh_osntl")

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, 0)
shape = SubResource("ConcavePolygonShape3D_mj6dm")

[node name="wall3" type="StaticBody3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -0.0645828, 9, -12)

[node name="MeshInstance3D" type="MeshInstance3D" parent="wall3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, 0)
mesh = SubResource("BoxMesh_osntl")

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, 0)
shape = SubResource("ConcavePolygonShape3D_mj6dm")

[node name="wall4" type="StaticBody3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -0.0645828, 9, 18)

[node name="MeshInstance3D" type="MeshInstance3D" parent="wall4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, 0)
mesh = SubResource("BoxMesh_osntl")

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, 0)
shape = SubResource("ConcavePolygonShape3D_mj6dm")

[node name="wall5" type="StaticBody3D" parent="."]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 1.33865, 23, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="wall5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, 0)
mesh = SubResource("BoxMesh_iqr5y")

[node name="Player" parent="." instance=ExtResource("3_vxjiw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.28258, 0.0500002, 11.1394)

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.404058, 7.42453)
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("BoxMesh_jw4qe")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_onu5q")

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 7.28051, 12.1506)
light_color = Color(0.878431, 0.521569, 0.0784314, 1)
light_energy = 9.496
spot_range = 14.682
spot_angle = 124.02
spot_angle_attenuation = 0.707107

[node name="armchair2" parent="." instance=ExtResource("4_jd06l")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -0.825212, 0.0499997, 11.5966)

[node name="Path3D" type="Path3D" parent="."]
transform = Transform3D(0.05, 0, 0.0866025, 0, 0.0999998, 0, -0.0866025, 0, 0.05, 0.149521, 0.398115, 7.39988)
curve = SubResource("Curve3D_mjgmp")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D"]
transform = Transform3D(0.999314, -0.0257175, -0.0263506, -1.86263e-09, 0.715646, -0.698444, 0.0368207, 0.697975, 0.715157, -16.1521, -13.2415, 49.6173)

[node name="object" type="Area3D" parent="Path3D/PathFollow3D"]
transform = Transform3D(5, -1.19209e-06, -8.66025, -1.96695e-06, 9.99999, 0, 8.66025, -3.57628e-06, 5, 7.83347, -9.32462, -68.0861)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Path3D/PathFollow3D/object"]
mesh = SubResource("SphereMesh_31f6g")
skeleton = NodePath("../../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Path3D/PathFollow3D/object"]
shape = SubResource("SphereShape3D_mim4g")

[node name="fleure2" parent="." instance=ExtResource("5_a1w14")]
transform = Transform3D(0.05, 0, 0.0866025, 0, 0.1, 0, -0.0866025, 0, 0.05, -0.775195, 0.644965, 11.439)
